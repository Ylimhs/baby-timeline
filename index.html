<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Baby 时间线</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-pink-50 min-h-screen flex flex-col items-center p-6">
<h1 class="text-3xl font-bold text-pink-600 mb-8">👶 Baby 的成长时间线</h1>

<div id="timeline" class="relative border-l-4 border-pink-400 pl-6 space-y-8 w-full max-w-xl"></div>

<footer class="mt-12 text-gray-400 text-sm">
    由爱心爸妈 ❤️ 记录
</footer>

<script>
    async function loadTimeline() {
        try {
            const res = await fetch("/api/events");
            const events = await res.json();
            const container = document.getElementById("timeline");

            container.innerHTML = "";

            events.forEach(event => {
                const div = document.createElement("div");
                div.innerHTML = `
            <div class="absolute -left-3 w-6 h-6 rounded-full bg-pink-400"></div>
            <h3 class="text-xl font-semibold text-gray-800">${event.date} ${event.title}</h3>
            <p class="text-gray-600 mt-2">${event.desc}</p>
            ${
                    event.photo
                        ? `<img src="${event.photo}" class="mt-2 rounded shadow max-w-full" onerror="this.style.display='none'" />`
                        : ""
                }
          `;
                container.appendChild(div);
            });
        } catch (e) {
            console.error("加载时间线失败：", e);
        }
    }

    loadTimeline();
</script>
</body>
</html>
